# ๐ ุตูุญู ูุฏุฑุช ุฑูุฏุงุฏูุง

ุงู ุตูุญู ุจุฑุง ูุฏุฑุงู ุณุณุชู ุทุฑุงุญ ุดุฏู ุงุณุช ุชุง ุจุชูุงููุฏ ุชูุงู ุฑูุฏุงุฏูุง ุซุจุช ุดุฏู ุฑุง ูุดุงูุฏู ู ูุฏุฑุช ฺฉููุฏ.

## ๐ ูุณุฑ ุฏุณุชุฑุณ

```
/dashboard/eventmanagment
```

## ๐ฏ ูุฏู

ูุฏุฑุช ูุฑฺฉุฒ ุชูุงู ุฑูุฏุงุฏูุง ุณุณุชู ุดุงูู:
- ูุดุงูุฏู ูุณุช ฺฉุงูู ุฑูุฏุงุฏูุง
- ููุชุฑ ู ุฌุณุชุฌู
- ุชุงุฏ/ุฑุฏ ุฑูุฏุงุฏูุง
- ุชุนูู ู ูุนุงูโุณุงุฒ
- ุญุฐู ูุฑู (Soft Delete)

## ๐ ุฏุณุชุฑุณ

ุงู ุตูุญู ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช ุฏุงุฑุฏ ู ููุท ุจุฑุง ูุฏุฑุงู ุณุณุชู ูุงุจู ุฏุณุชุฑุณ ุงุณุช.

**TODO:** ุงูุฒูุฏู ุจุฑุฑุณ ููุด ฺฉุงุฑุจุฑ (admin/moderator)

## ๐ API Endpoints

### GET `/api/dashboard/eventmanagment`

ุฏุฑุงูุช ูุณุช ุฑูุฏุงุฏูุง ุจุง ููุชุฑ ู ุตูุญูโุจูุฏ.

**Query Parameters:**
- `status`: ููุชุฑ ุจุฑ ุงุณุงุณ ูุถุนุช (draft, pending, approved, rejected, suspended, expired, all)
- `search`: ุฌุณุชุฌู ุฏุฑ ุนููุงู ู ุชูุถุญุงุช
- `page`: ุดูุงุฑู ุตูุญู (ูพุดโูุฑุถ: 1)
- `limit`: ุชุนุฏุงุฏ ุฏุฑ ูุฑ ุตูุญู (ูพุดโูุฑุถ: 20)

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "_id": "...",
      "title": "ูุงู ุฑูุฏุงุฏ",
      "status": "pending",
      "creator": {
        "_id": "...",
        "displayName": "ูุงู ฺฉุงุฑุจุฑ"
      },
      "topicCategory": {
        "title": "ุฏุณุชูโุจูุฏ"
      },
      "startDate": "2024-01-01T00:00:00.000Z",
      "views": 123,
      "createdAt": "2024-01-01T00:00:00.000Z"
    }
  ],
  "pagination": {
    "total": 100,
    "page": 1,
    "limit": 20,
    "pages": 5
  },
  "stats": {
    "draft": 10,
    "pending": 15,
    "approved": 50,
    "rejected": 5,
    "suspended": 3,
    "expired": 7,
    "total": 90
  }
}
```

### PUT `/api/dashboard/eventmanagment`

ุชุบุฑ ูุถุนุช ุฑูุฏุงุฏ.

**Body:**
```json
{
  "eventId": "event_id",
  "action": "approve | reject | suspend | activate | delete",
  "rejectionReason": "ุฏูู ุฑุฏ (ููุท ุจุฑุง action=reject)"
}
```

**Actions:**
- `approve`: ุชุงุฏ ุฑูุฏุงุฏ (pending โ approved)
- `reject`: ุฑุฏ ุฑูุฏุงุฏ (pending โ rejected)
- `suspend`: ุชุนูู ุฑูุฏุงุฏ (approved โ suspended)
- `activate`: ูุนุงูโุณุงุฒ (suspended โ approved)
- `delete`: ุญุฐู ูุฑู (any โ deleted)

**Response:**
```json
{
  "success": true,
  "message": "ุฑูุฏุงุฏ ุจุง ููููุช ุชุงุฏ ุดุฏ",
  "data": {
    "_id": "...",
    "title": "...",
    "status": "approved"
  }
}
```

## ๐จ UI Components

### 1. Header
- ุนููุงู ุตูุญู
- ุฏฺฉูู ุชุบุฑ ุชู (ุฑูุดู/ุชุงุฑฺฉ)

### 2. ุขูุงุฑ ฺฉู (Stats Cards)
ุดุด ฺฉุงุฑุช ฺฉูฺฉโูพุฐุฑ:
- ๐ ฺฉู ุฑูุฏุงุฏูุง
- โณ ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ
- โ ุชุงุฏ ุดุฏู
- โ ุฑุฏ ุดุฏู
- โ๏ธ ุชุนูู
- โฐ ูููุถ ุดุฏู

**ฺฉูฺฉ ุจุฑ ุฑู ูุฑ ฺฉุงุฑุช:** ููุชุฑ ุณุฑุน ุจุฑ ุงุณุงุณ ุขู ูุถุนุช

### 3. ููุชุฑูุง
- **ุฌุณุชุฌู:** ุฌุณุชุฌู Real-time ุฏุฑ ุนููุงู ู ุชูุถุญุงุช
- **ููุชุฑ ูุถุนุช:** Dropdown ุจุฑุง ุงูุชุฎุงุจ ูุถุนุช

### 4. ุฌุฏูู ุฑูุฏุงุฏูุง

**ุณุชููโูุง:**
- ุนููุงู ุฑูุฏุงุฏ (ุจุง ูุดุงู ๐ ุจุฑุง ุฎุตูุต)
- ุณุงุฒูุฏู
- ุฏุณุชูโุจูุฏ
- ูุถุนุช (Badge ุฑูฺฏ)
- ุชุงุฑุฎ ุดุฑูุน
- ุจุงุฒุฏุฏ
- ุชุงุฑุฎ ุงุฌุงุฏ
- ุนููุงุช

**ุนููุงุช:**
- ๐๏ธ ูุดุงูุฏู: ุจุงุฒ ฺฉุฑุฏู ุตูุญู ุฌุฒุฆุงุช
- โ๏ธ ูุฑุงุด: ุจุงุฒ ฺฉุฑุฏู ุตูุญู ูุฑุงุด
- โ ุชุงุฏ: ุชุงุฏ ุฑูุฏุงุฏ (ููุท ุจุฑุง pending)
- โ ุฑุฏ: ุฑุฏ ุฑูุฏุงุฏ (ููุท ุจุฑุง pending)
- โ๏ธ ุชุนูู: ุชุนูู ุฑูุฏุงุฏ (ููุท ุจุฑุง approved)
- ๐ ูุนุงูโุณุงุฒ: ูุนุงูโุณุงุฒ (ููุท ุจุฑุง suspended)
- ๐๏ธ ุญุฐู: ุญุฐู ูุฑู

### 5. Modal ุชุงุฏ
ุจุฑุง ุชูุงู ุนููุงุช ฺฉ Modal ุชุงุฏ ููุงุด ุฏุงุฏู ูโุดูุฏ:
- ููุงุด ูุงู ุฑูุฏุงุฏ ู ููุน ุนููุงุช
- ุจุฑุง ุนููุงุช "ุฑุฏ"ุ ฺฉ textarea ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ุฏูู
- ุฏฺฉููโูุง ุชุงุฏ/ุงูุตุฑุงู

### 6. Pagination
- ุฏฺฉููโูุง ูุจู/ุจุนุฏ
- ููุงุด ุตูุญู ูุนู ู ฺฉู ุตูุญุงุช

## ๐จ Styling

### Light Mode
- ูพุณโุฒููู ุณูุฏ ู ุฎุงฺฉุณุชุฑ ุฑูุดู
- ุฑูฺฏโูุง ูพุฑ ุงูุฑฺ ุจุฑุง ุฏฺฉููโูุง
- Border ู Shadow ููุงู

### Dark Mode
- ูพุณโุฒููู ุชุฑู ฺฏุฑุงุฏุงูุช
- ุฑูฺฏโูุง ุฑูุดูโุชุฑ ุจุฑุง ุฏฺฉููโูุง
- Border ู Shadow ูุงุถุญโุชุฑ

## ๐ฑ Responsive Design

### Desktop (>768px)
- ุฌุฏูู ฺฉุงูู ุจุง ุชูุงู ุณุชููโูุง
- ุขูุงุฑ ุฏุฑ Grid ุดุด ุณุชูู
- ููุชุฑูุง ุฏุฑ ฺฉ ุฎุท

### Mobile (<768px)
- ุฌุฏูู ูุงุจู ุงุณฺฉุฑูู ุงูู
- ุขูุงุฑ ุฏุฑ Grid ุฏู ุณุชูู
- ููุชุฑูุง ุนููุฏ

## ๐ State Management

```javascript
const [events, setEvents] = useState([]);        // ูุณุช ุฑูุฏุงุฏูุง
const [stats, setStats] = useState({});         // ุขูุงุฑ ูุถุนุชโูุง
const [loading, setLoading] = useState(true);   // ูุถุนุช ุจุงุฑฺฏุฐุงุฑ
const [selectedStatus, setSelectedStatus] = useState("all"); // ููุชุฑ ูุถุนุช
const [searchQuery, setSearchQuery] = useState(""); // ุฌุณุชุฌู
const [currentPage, setCurrentPage] = useState(1);  // ุตูุญู ูุนู
const [totalPages, setTotalPages] = useState(1);    // ฺฉู ุตูุญุงุช
const [showActionModal, setShowActionModal] = useState(false); // ููุงุด Modal
const [selectedEvent, setSelectedEvent] = useState(null);      // ุฑูุฏุงุฏ ุงูุชุฎุงุจ
const [actionType, setActionType] = useState("");  // ููุน ุนููุงุช
const [rejectionReason, setRejectionReason] = useState(""); // ุฏูู ุฑุฏ
```

## ๐ Security

### Authentication
```javascript
const protection = await protectApi(request);
if (!protection.success) {
  return NextResponse.json(
    { error: protection.error },
    { status: protection.status }
  );
}
```

### Activity Logging
ุชูุงู ุนููุงุช ูุฏุฑุช ุฏุฑ `ActivityLog` ุซุจุช ูโุดููุฏ:
```javascript
await logActivity(userId, `event.manage_${action}`, {
  targetType: "Event",
  targetId: eventId,
  metadata: {
    eventTitle: event.title,
    action: actionDescription,
    oldStatus: event.status,
    newStatus: updateData.status
  }
});
```

## ๐งช Testing

### Manual Testing Checklist

1. **ููุชุฑูุง:**
   - [ ] ุฌุณุชุฌู ุฏุฑ ุนููุงู
   - [ ] ุฌุณุชุฌู ุฏุฑ ุชูุถุญุงุช
   - [ ] ููุชุฑ ุจุฑ ุงุณุงุณ ูุฑ ูุถุนุช
   - [ ] ฺฉูฺฉ ุจุฑ ุฑู ฺฉุงุฑุชโูุง ุขูุงุฑ

2. **ุนููุงุช:**
   - [ ] ุชุงุฏ ุฑูุฏุงุฏ pending
   - [ ] ุฑุฏ ุฑูุฏุงุฏ pending (ุจุง ุฏูู)
   - [ ] ุชุนูู ุฑูุฏุงุฏ approved
   - [ ] ูุนุงูโุณุงุฒ ุฑูุฏุงุฏ suspended
   - [ ] ุญุฐู ุฑูุฏุงุฏ

3. **Navigation:**
   - [ ] ูุดุงูุฏู ุฑูุฏุงุฏ
   - [ ] ูุฑุงุด ุฑูุฏุงุฏ
   - [ ] Pagination

4. **Theme:**
   - [ ] ุชุบุฑ ุจู Dark Mode
   - [ ] ุชุบุฑ ุจู Light Mode
   - [ ] Reload ุตูุญู (ุจุงุฏ ุชู ุฐุฎุฑู ุดูุฏ)

5. **Responsive:**
   - [ ] ููุงุด ุฏุฑ ููุจุงู
   - [ ] ููุงุด ุฏุฑ ุชุจูุช
   - [ ] ุงุณฺฉุฑูู ุฌุฏูู ุฏุฑ ููุจุงู

## ๐ Future Enhancements

1. **ุฏุณุชุฑุณโูุง:**
   - [ ] ุจุฑุฑุณ ููุด ฺฉุงุฑุจุฑ (admin/moderator)
   - [ ] ูุญุฏูุฏ ฺฉุฑุฏู ุนููุงุช ุจุฑ ุงุณุงุณ ููุด
   - [ ] ูุงฺฏ ุชุบุฑุงุช ุจุฑุง ูุฑ ุฑูุฏุงุฏ

2. **ููุชุฑูุง ูพุดุฑูุชู:**
   - [ ] ููุชุฑ ุจุฑ ุงุณุงุณ ุฏุณุชูโุจูุฏ
   - [ ] ููุชุฑ ุจุฑ ุงุณุงุณ ุชุงุฑุฎ ุงุฌุงุฏ
   - [ ] ููุชุฑ ุจุฑ ุงุณุงุณ ุณุงุฒูุฏู
   - [ ] ูุฑุชุจโุณุงุฒ (ุจุฑ ุงุณุงุณ ุณุชููโูุง)

3. **ุนููุงุช ุฏุณุชูโุง:**
   - [ ] ุงูุชุฎุงุจ ฺูุฏ ุฑูุฏุงุฏ
   - [ ] ุชุงุฏ/ุฑุฏ/ุญุฐู ุฏุณุชูโุง

4. **Export:**
   - [ ] Export ุจู Excel
   - [ ] Export ุจู CSV
   - [ ] Export ุจู PDF

5. **ูููุฏุงุฑูุง:**
   - [ ] ูููุฏุงุฑ ุขูุงุฑ ุฑูุฏุงุฏูุง
   - [ ] ูููุฏุงุฑ ุฑููุฏ ุซุจุชโูุงูโูุง

## ๐ Notes

- ุฑูุฏุงุฏูุง `deleted` ุฏุฑ ูุณุช ููุงุด ุฏุงุฏู ููโุดููุฏ
- ุชุงุฑุฎโูุง ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจู ุดูุณ ุชุจุฏู ูโุดููุฏ
- ุชูุงู ุนููุงุช ูุฏุฑุช ูุงฺฏ ูโุดููุฏ
- Modal ุชุงุฏ ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุนููุงุช ุชุตุงุฏู


